<!doctype html>
<html class="no-js" lang="">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>EnerNOC email signature generator</title>
	<meta name="description" content="this github page">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		body, input {
			font: .9em/1.4 arial, sans-serif;
			color: dimgray;
		}
		.sig-input {
			margin-bottom: 5px;
			width: auto;
			padding: 0.3em;
		}
		.sig-inputs-wrapper {

		}
		.sig-preview-wrapper {
			padding: 0.3em;
		}
		.sig-preview {
			margin-bottom: 40px;
		}
	</style>
	<script>
		window.onload = function () {
			var auto = true;

			function bind(name, fallback) {
				input[name] = document.querySelector('input[name=' + name + ']');
				input[name].oninput = function (e) {
					var text = input[name].value;
					if (name === 'email' && e) {
						auto = !text;
					}
					if (!text) {
						text = fallback;
					} else if (name === 'name' && auto) {
						input['email'].value = text.toLowerCase().replace(/ /g, '.') + '@enernoc.com';
						input['email'].oninput();
					}
					if (input[name].type === 'tel') {
						output[name].href = 'tel:' + encodeURIComponent(text);
						output[name].setAttribute('value', text.replace(/[^+0-9]/g, ''));
					}
					if (input[name].type === 'email') {
						output[name].href = 'sendto:' + text;
					}
					output[name].textContent = text;
				};
				// handle auto-filled fields on page reload
				input[name].oninput();
			}
			var input = {};
			var output = {
				name: document.querySelector('.sig-preview div:nth-of-type(1) > strong'),
				title: document.querySelector('.sig-preview div:nth-of-type(1) > span'),
				office: document.querySelector('.sig-preview div:nth-of-type(3) > a:nth-of-type(1)'),
				mobile: document.querySelector('.sig-preview div:nth-of-type(3) > a:nth-of-type(2)'),
				email: document.querySelector('.sig-preview div:nth-of-type(3) > a:nth-of-type(3)')
			};

			// need to bind email first, since name will auto-fill it
			bind('email', 'tyler.fawcett@enernoc.com');
			bind('name', 'Tyler Fawcett');
			bind('title', 'Creative Director, Utility Solutions');
			bind('office', '+1 (778) 331 0500');
			bind('mobile', '+1 (604) 719 5055');
		};
	</script>
</head>
<body>

<div class="sig-inputs-wrapper">
	<input type="text" size="30" class="sig-input" name="name" value="" placeholder="Name" spellcheck="false"><br>
	<input type="text" size="40" class="sig-input" name="title" value="" placeholder="Title"><br>
<!-- 	<select class="sig-input">
		<option>EnerNOC, Inc. / 576 Seymour Street, Suite 600, Vancouver, BC V6B 3K1</option>
	</select><br> -->
	<input type="tel" size="20" class="sig-input" name="office" value="" placeholder="Office #"><br>
	<input type="tel" size="20" class="sig-input" name="mobile" value="" placeholder="Mobile #"><br>
	<input type="email" size="60" class="sig-input" name="email" value="" placeholder="Email">
</div>

<div class="sig-preview-wrapper">
	<div class="sig-preview">
		<div style="font-family: arial, sans-serif; font-size: 13px; line-height: 1.3; color: #999999; padding-top: 30px;"><strong style="color: #003e74;">Tyler Fawcett</strong> / <span style="color: #003e74;">Creative Director, Utility Solutions</span></div>
		<div style="font-family: arial, sans-serif; font-size: 12px; line-height: 1.3; color: #999999;">EnerNOC, Inc. / 576 Seymour Street, Suite 600, Vancouver, BC V6B 3K1</div>
		<div style="font-family: arial, sans-serif; font-size: 12px; line-height: 1.3; color: #999999;">t: <a href="tel:%2B1%20%28778%29%20331%200500" value="+17783310500" style="color: #999999; font-family: arial, sans-serif; text-decoration: none;">+1 (778) 331 0500</a> / m: <a href="tel:%2B1%20%28604%29%20719%205055" value="+16047195055" style="color: #999999; font-family: arial, sans-serif; text-decoration: none;">+1 (604) 719 5055</a> / <a href="mailto:tyler.fawcett@enernoc.com" style="color: #003e74; text-decoration: none;">tyler.fawcett@enernoc.com</a></div>
		<div style="font-family: arial, sans-serif; font-size: 12px; line-height: 1.3; color: #999999;"><a href="http://www.enernoc.com" style="color: #003e74; text-decoration: none;">www.enernoc.com</a> / <a href="http://energysmart.enernoc.com" style="color: #003e74; text-decoration: none;">energysmart.enernoc.com</a></div>
	</div>
	<button class="sig-copy-button">Copy to clipboard</button>
</div>


</body>
</html>